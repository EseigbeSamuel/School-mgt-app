<div class="flex flex-col gap-3">
  <section class="flex w-full justify-end">
    <div class="flex justify-end mb-1">
      <app-sort-dropdown
        [customOptions]="customSortOptions"
        [defaultSort]="'name'"
        [allowDirectionToggle]="true"
        (selectionChange)="onSortChange($event)"
      />
    </div>
  </section>
  <!-- <section
    class="border-[1px] p-4 lg:py-4 py-8 gap-6 grid grid-cols-[repeat(auto-fill,_minmax(300px,_1fr))] place-items-center"
  >
    <app-students-card
      *ngFor="let student of students"
      [name]="student.name"
      [subjects]="student.subject"
      [type]="student.type"
      [image]="student.image"
    />
  </section> -->

  <section
    class="border-[1px] p-4 lg:py-4 py-8 gap-6 grid grid-cols-[repeat(auto-fill,_minmax(300px,_1fr))] place-items-center"
  >
    <div
      *ngFor="let student of students"
      class="w-[330px] flex flex-col gap-4 border border-t-0"
    >
      <div class="h-[200px]">
        <img
          [src]="student.image"
          alt="{{ student.name }}"
          class="w-full h-full object-fill"
        />
      </div>
      <div class="flex flex-col justify-center gap-2 items-center p-3">
        <div class="flex flex-col gap-2">
          <h1 class="capitalize font-semibold text-center text-xl">
            {{ student.name }}
          </h1>
          <h2 class="uppercase font-light text-gray-500">{{ student.type }}</h2>
          <div class="flex justify-center">
            <img src="../../../../../assets/icons/Star Filled.svg" alt="" />
            <img src="../../../../../assets/icons/Star Filled.svg" alt="" />
            <img src="../../../../../assets/icons/Star Filled.svg" alt="" />
            <img src="../../../../../assets/icons/Star Filled.svg" alt="" />
            <img src="../../../../../assets/icons/Star Filled.svg" alt="" />
          </div>
        </div>
        <div class="size-[1px] bg-gray-100 w-full"></div>
        <div class="flex flex-col">
          <p class="capitalize text-blue-500 font-semibold">
            {{ student.subject }}
          </p>
        </div>
        <div class="w-full">
          <app-button
            variant="primary"
            label="View Profile"
            size="sm"
            (click)="onSelectStudent(student)"
          />
        </div>
      </div>
    </div>
  </section>

  <div class="border rounded-xl p-5 space-y-5 w-full">
    <h1 class="text-xl font-semibold">Student Progress Details</h1>
    <section class="sm:max-w-sm md:max-w-md lg:max-w-full h-[200px]">
      <div class="overflow-y-auto overflow-x-auto h-full">
        <table>
          <thead>
            <tr class="text-sm">
              <th>Student Profile</th>
              <th>Subject</th>
              <th>Session</th>
              <th>Progress</th>
              <th>Rating</th>
              <th>Action</th>
            </tr>
          </thead>
          <tbody>
            <tr
              class="hover:bg-[#EBEAFC] capitalize"
              *ngFor="let row of students"
            >
              <td>
                <div class="flex gap-2 items-center">
                  <img
                    src="{{ row.image }}"
                    alt=""
                    class="size-10 rounded-full object-cover"
                  />
                  <div class="text-xs">
                    <p class="text-sm font-medium">{{ row.name }}</p>
                    <p class="underline">{{ row.email }}</p>
                    <p class="uppercase">{{ row.exam }}</p>
                  </div>
                </div>
              </td>
              <td>
                <div class="flex gap-1">
                  <p
                    class="rounded-xl py-1 px-2 border text-xs"
                    *ngFor="let subject of row.subject"
                  >
                    {{ subject }}
                  </p>
                </div>
              </td>
              <td>
                {{ row.session }}
              </td>
              <td>
                <div
                  class="rounded-md py-1 px-2 text-center max-w-[80px] text-white text-xs"
                  [ngClass]="getProgressStyle(row.progress)"
                >
                  {{ row.progress }}
                </div>
              </td>
              <td>
                <div class="flex items-center gap-1">
                  <svg
                    width="13"
                    height="13"
                    viewBox="0 0 13 13"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M6.49968 10.8907L3.34887 12.8781C3.20968 12.9708 3.06416 13.0106 2.91231 12.9973C2.76047 12.9841 2.6276 12.9311 2.51372 12.8384C2.39983 12.7456 2.31126 12.6298 2.24799 12.491C2.18472 12.3521 2.17206 12.1963 2.21003 12.0235L3.04518 8.26742L0.255007 5.74347C0.128469 5.62423 0.0495087 5.4883 0.0181272 5.33567C-0.0132543 5.18304 -0.0038905 5.03412 0.0462187 4.88891C0.0963279 4.7437 0.172251 4.62446 0.273988 4.53118C0.375725 4.43791 0.514917 4.37829 0.691564 4.35232L4.37383 4.01447L5.79739 0.476967C5.86066 0.317978 5.95885 0.198736 6.09197 0.119242C6.22509 0.0397471 6.36099 0 6.49968 0C6.63836 0 6.77426 0.0397471 6.90738 0.119242C7.0405 0.198736 7.1387 0.317978 7.20196 0.476967L8.62552 4.01447L12.3078 4.35232C12.4849 4.37882 12.6241 4.43844 12.7254 4.53118C12.8266 4.62393 12.9025 4.74317 12.9531 4.88891C13.0037 5.03465 13.0134 5.18383 12.982 5.33646C12.9506 5.48909 12.8714 5.62476 12.7443 5.74347L9.95417 8.26742L10.7893 12.0235C10.8273 12.1958 10.8146 12.3516 10.7514 12.491C10.6881 12.6303 10.5995 12.7461 10.4856 12.8384C10.3718 12.9306 10.2389 12.9836 10.087 12.9973C9.93519 13.0111 9.78967 12.9714 9.65048 12.8781L6.49968 10.8907Z"
                      fill="#D09048"
                    />
                  </svg>
                  {{ row.rating }}
                </div>
              </td>

              <td>
                <div class="flex gap-1">
                  <svg
                    width="36"
                    height="37"
                    viewBox="0 0 36 37"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      y="0.5"
                      width="36"
                      height="36"
                      rx="8"
                      fill="#667085"
                    />
                    <path
                      d="M24.0939 22.1871C23.5977 21.6871 22.3958 20.9574 21.8127 20.6634C21.0533 20.2809 20.9908 20.2496 20.3939 20.6931C19.9958 20.989 19.7311 21.2534 19.2652 21.154C18.7992 21.0546 17.7867 20.4943 16.9002 19.6106C16.0136 18.7268 15.4208 17.6849 15.3211 17.2206C15.2214 16.7562 15.4902 16.4946 15.7833 16.0956C16.1964 15.5331 16.1652 15.4393 15.8121 14.6799C15.5367 14.0893 14.7858 12.8987 14.2839 12.4049C13.7471 11.8746 13.7471 11.9684 13.4011 12.1121C13.1195 12.2306 12.8493 12.3746 12.5939 12.5424C12.0939 12.8746 11.8164 13.1506 11.6224 13.5653C11.4283 13.9799 11.3411 14.9521 12.3433 16.7728C13.3455 18.5934 14.0486 19.5243 15.5039 20.9756C16.9592 22.4268 18.0783 23.2071 19.7142 24.1246C21.738 25.2581 22.5142 25.0371 22.9302 24.8434C23.3461 24.6496 23.6233 24.3746 23.9561 23.8746C24.1243 23.6197 24.2687 23.3498 24.3874 23.0684C24.5314 22.7237 24.6252 22.7237 24.0939 22.1871Z"
                      stroke="white"
                      stroke-miterlimit="10"
                    />
                  </svg>
                  <svg
                    width="36"
                    height="37"
                    viewBox="0 0 36 37"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <rect
                      x="0.5"
                      y="1"
                      width="35"
                      height="35"
                      rx="7.5"
                      fill="white"
                    />
                    <rect
                      x="0.5"
                      y="1"
                      width="35"
                      height="35"
                      rx="7.5"
                      stroke="#667085"
                    />
                    <path
                      d="M18.87 25.5L18 25L20 21.5H23C23.2652 21.5 23.5196 21.3946 23.7071 21.2071C23.8946 21.0196 24 20.7652 24 20.5V14.5C24 14.2348 23.8946 13.9804 23.7071 13.7929C23.5196 13.6054 23.2652 13.5 23 13.5H13C12.7348 13.5 12.4804 13.6054 12.2929 13.7929C12.1054 13.9804 12 14.2348 12 14.5V20.5C12 20.7652 12.1054 21.0196 12.2929 21.2071C12.4804 21.3946 12.7348 21.5 13 21.5H17.5V22.5H13C12.4696 22.5 11.9609 22.2893 11.5858 21.9142C11.2107 21.5391 11 21.0304 11 20.5V14.5C11 13.9696 11.2107 13.4609 11.5858 13.0858C11.9609 12.7107 12.4696 12.5 13 12.5H23C23.5304 12.5 24.0391 12.7107 24.4142 13.0858C24.7893 13.4609 25 13.9696 25 14.5V20.5C25 21.0304 24.7893 21.5391 24.4142 21.9142C24.0391 22.2893 23.5304 22.5 23 22.5H20.58L18.87 25.5Z"
                      fill="#667085"
                    />
                    <path
                      d="M14 15.5H22V16.5H14V15.5ZM14 18.5H19V19.5H14V18.5Z"
                      fill="#667085"
                    />
                  </svg>
                </div>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  </div>
</div>
