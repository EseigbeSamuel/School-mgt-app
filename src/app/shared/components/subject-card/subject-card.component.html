<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
  <div
    *ngFor="let subject of subjects"
    [ngClass]="subject.color"
    class="text-white rounded-xl p-4 shadow-md flex flex-col gap-2"
  >
    <div class="flex justify-between">
      <div class="flex gap-4 mb-4">
        <span
          [innerHTML]="subject.safeSvg"
          class="icon"
          aria-hidden="true"
        ></span>
        <h2 class="text-xl font-semibold mb-1">{{ subject.name }}</h2>
      </div>
      <div (click)="viewCourse(subject.id)">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-5 w-5 text-white cursor-pointer"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 5.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM12 13a1.5 1.5 0 110-3 1.5 1.5 0 010 3zM12 20.5a1.5 1.5 0 110-3 1.5 1.5 0 010 3z"
          />
        </svg>
      </div>
    </div>
    <div class="flex items-center gap-4">
      <div class="text-sm flex items-center gap-2">
        <svg
          width="15"
          height="15"
          viewBox="0 0 9 8"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M3.99638 2.66421C3.99638 2.84874 3.84679 2.99834 3.66225 2.99834C3.47772 2.99834 3.32812 2.84874 3.32812 2.66421C3.32812 2.47967 3.47772 2.33008 3.66225 2.33008C3.84679 2.33008 3.99638 2.47967 3.99638 2.66421Z"
            fill="white"
          />
          <path
            d="M4.75297 2.66283H5.92242M3.58352 3.99935H5.92242M3.58352 5.33587H5.92242M4.21836 7.00651H5.28757C6.03931 7.00651 6.41518 7.00651 6.67867 6.81508C6.76377 6.75325 6.83861 6.67841 6.90043 6.59332C7.09187 6.32982 7.09187 5.95395 7.09187 5.20222V2.79649C7.09187 2.04475 7.09187 1.66888 6.90043 1.40539C6.83861 1.32029 6.76377 1.24545 6.67867 1.18363C6.41518 0.992188 6.03931 0.992188 5.28757 0.992188H4.21836C3.46662 0.992188 3.09075 0.992188 2.82726 1.18363C2.74216 1.24545 2.66733 1.32029 2.6055 1.40539C2.41406 1.66888 2.41406 2.04475 2.41406 2.79649V5.20222C2.41406 5.95395 2.41406 6.32982 2.6055 6.59332C2.66733 6.67841 2.74216 6.75325 2.82726 6.81508C3.09075 7.00651 3.46662 7.00651 4.21836 7.00651Z"
            stroke="white"
            stroke-width="0.501194"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>

        {{ subject.lessons }} Lessons
      </div>
      <div class="text-sm flex items-center gap-2">
        <svg
          width="15"
          height="15"
          viewBox="0 0 9 8"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <path
            d="M4.25776 3.99935C4.25776 4.13775 4.14556 4.24995 4.00716 4.24995C3.86876 4.24995 3.75657 4.13775 3.75657 3.99935C3.75657 3.86095 3.86876 3.74875 4.00716 3.74875C4.14556 3.74875 4.25776 3.86095 4.25776 3.99935Z"
            fill="white"
          />
          <path
            d="M4.25776 3.99935C4.25776 4.13775 4.14556 4.24995 4.00716 4.24995C3.86876 4.24995 3.75657 4.13775 3.75657 3.99935C3.75657 3.86095 3.86876 3.74875 4.00716 3.74875M4.25776 3.99935C4.25776 3.86095 4.14556 3.74875 4.00716 3.74875M4.25776 3.99935H5.51074M4.00716 3.74875V2.16164M7.01432 3.99935C7.01432 5.66016 5.66797 7.00651 4.00716 7.00651C2.34635 7.00651 1 5.66016 1 3.99935C1 2.33854 2.34635 0.992187 4.00716 0.992188C5.66797 0.992188 7.01432 2.33854 7.01432 3.99935Z"
            stroke="white"
            stroke-width="0.501194"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
        {{ subject.time }}
      </div>
    </div>

    <!-- Progress bar -->
    <div class="flex flex-col w-full">
      <div class="text-sm mb-3 flex items-center justify-between w-full">
        <span class="text-sm"> Progress </span>
        <span> {{ subject.progress }} </span>
      </div>

      <div class="w-full h-2 bg-white/30 rounded-full overflow-hidden">
        <div
          class="h-full bg-white rounded-full transition-all duration-500"
          [style.width.%]="subject.progressPercent"
        ></div>
      </div>
    </div>

    <div class="flex items-cener w-full gap-4">
      <button
        class="bg-[#FF4B00] px-3 py-2 my-3 rounded-lg text-white text-sm flex items-center gap-3"
      >
        <svg
          width="15"
          height="15"
          viewBox="0 0 11 10"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g clip-path="url(#clip0_395_4495)">
            <path
              d="M5.47135 2.50977H2.76302C1.95761 2.50977 1.30469 3.16268 1.30469 3.9681V6.05143C1.30469 6.85685 1.95761 7.50977 2.76302 7.50977H5.47135C6.27677 7.50977 6.92969 6.85685 6.92969 6.05143V3.9681C6.92969 3.16268 6.27677 2.50977 5.47135 2.50977Z"
              stroke="white"
              stroke-width="0.7"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M6.92969 4.06835L8.41052 3.33085C8.47405 3.29919 8.5446 3.28429 8.6155 3.28755C8.6864 3.29081 8.75529 3.31213 8.81564 3.34948C8.87599 3.38684 8.9258 3.43899 8.96034 3.50099C8.99489 3.56299 9.01302 3.63279 9.01302 3.70376V6.31543C9.01305 6.38646 8.99493 6.45632 8.96036 6.51838C8.9258 6.58043 8.87594 6.63262 8.81553 6.66998C8.75512 6.70735 8.68616 6.72865 8.61521 6.73186C8.54425 6.73508 8.47364 6.7201 8.4101 6.68835L6.92969 5.9496V4.06835Z"
              stroke="white"
              stroke-width="0.7"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </g>
          <defs>
            <clipPath id="clip0_395_4495">
              <rect
                width="10"
                height="10"
                fill="white"
                transform="translate(0.15625 0.00976562)"
              />
            </clipPath>
          </defs>
        </svg>

        Start Now
      </button>

      <div class="flex gap-4 items-center">
        <button
          (click)="toggleHeart(subject)"
          [ngClass]="subject.isHeartActive ? 'text-red-500' : 'text-gray-500'"
          class="bg-white w-8 h-8 rounded-lg flex justify-center items-center"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 24 24"
            class="w-6 h-6"
          >
            <path
              d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5
             2 6.5 3.5 5 5.5 5c1.54 0 3.04.99 3.57 2.36h1.87C13.46 5.99 14.96 5
             16.5 5 18.5 5 20 6.5 20 8.5c0 3.78-3.4 6.86-8.55
             11.54L12 21.35z"
            />
          </svg>
        </button>

        <button
          (click)="toggleBookmark(subject)"
          [ngClass]="
            subject.isBookmarkActive ? 'text-blue-500' : 'text-gray-500'
          "
          class="bg-white w-8 h-8 rounded-lg flex justify-center items-center"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            fill="currentColor"
            viewBox="0 0 24 24"
            class="w-6 h-6"
          >
            <path d="M6 4c-1.1 0-2 .9-2 2v16l8-3.2 8 3.2V6c0-1.1-.9-2-2-2H6z" />
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>
